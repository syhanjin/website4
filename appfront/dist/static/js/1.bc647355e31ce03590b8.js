webpackJsonp([1],{f9xR:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"UserMenu",methods:{logout:function(){var t=this;this.$axios.post("/api/v1/token/logout/").then(function(e){t.$store.commit("removeToken"),localStorage.removeItem("token"),t.$axios.defaults.headers.common.Authorization=""}).catch(function(e){try{var s=e.response.data,a="<p>登出失败</p>";for(var n in s)a+="<p>"+s[n]+"</p>";t.$message({dangerouslyUseHTMLString:!0,message:a,type:"error"})}catch(s){t.$message({dangerouslyUseHTMLString:!0,message:"<p>登出失败</p><p>"+e+"</p>",type:"error"})}})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.state.isAuthenticated?s("el-card",{staticClass:"user-menu",attrs:{"body-style":{padding:"5px 20px 20px"},shadow:"hover"}},[s("el-row",{staticClass:"name-box"},[s("el-col",{attrs:{span:24}},[s("el-link",{staticClass:"name",attrs:{href:"/user/"+t.$store.state.me.uuid,underline:!1}},[t._v("\n        "+t._s(t.$store.state.me.name)+"\n      ")])],1)],1),t._v(" "),s("el-row",{staticClass:"options"},[s("el-link",{staticClass:"options-button",attrs:{underline:!1,size:"small",icon:"el-icon-setting",href:"/settings"}},[t._v("\n      个人设置\n    ")])],1),t._v(" "),s("el-row",{staticClass:"footer"},[s("el-col",{attrs:{span:12}},[s("el-button",{attrs:{disabled:"",icon:"el-icon-lock",plain:"",size:"mini",type:"primary"}},[t._v("锁定")])],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-button",{attrs:{icon:"el-icon-switch-button",plain:"",size:"mini",type:"danger"},on:{click:t.logout}},[t._v("登出")])],1)],1)],1):t._e()},staticRenderFns:[]};var r={name:"NavBar",components:{UserMenu:s("VU/8")(a,n,!1,function(t){s("p0Fs")},"data-v-ca4e955e",null).exports},data:function(){return{icon:"/static/icon.jpg",links:[{text:"首页",url:"/"},{text:"关于",url:"/about"}]}},methods:{url:function(t){return t+(t!==this.$route.path?"?redirect="+this.$route.path:"")}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav"},[s("img",{attrs:{id:"icon",src:t.icon,onclick:"window.location.href='/';"}}),t._v(" "),s("div",{staticClass:"bar"},t._l(t.links,function(e,a){return s("div",{key:a},[s("router-link",{attrs:{to:e.url}},[t._v(t._s(e.text))])],1)}),0),t._v(" "),s("div",{staticClass:"user"},[t.$store.state.isAuthenticated?t._e():s("div",{staticClass:"ops"},[s("div",[s("router-link",{attrs:{to:t.url("/signup")}},[t._v("注册")]),t._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),s("router-link",{attrs:{to:t.url("/login")}},[t._v("登录")])],1)]),t._v(" "),t.$store.state.isAuthenticated?s("el-avatar",{staticClass:"avatar",attrs:{size:64,src:t.$store.state.me.avatar}}):t._e(),t._v(" "),s("user-menu")],1)])},staticRenderFns:[]};var o=s("VU/8")(r,i,!1,function(t){s("qnXc")},"data-v-2688a26f",null);e.default=o.exports},p0Fs:function(t,e){},qnXc:function(t,e){}});
//# sourceMappingURL=1.bc647355e31ce03590b8.js.map