{"version":3,"sources":["webpack:///src/components/UserMenuPC.vue","webpack:///./src/components/UserMenuPC.vue?128c","webpack:///./src/components/UserMenuPC.vue","webpack:///src/components/NavBarPC.vue","webpack:///./src/components/NavBarPC.vue?3f56","webpack:///./src/components/NavBarPC.vue"],"names":["UserMenuPC","name","methods","logout","_this","this","$axios","post","then","response","$store","commit","localStorage","removeItem","defaults","headers","common","Authorization","catch","err","data","errors","key","$message","dangerouslyUseHTMLString","message","type","e","components_UserMenuPC","render","_vm","_h","$createElement","_c","_self","state","staticClass","attrs","body-style","padding","shadow","span","href","me","uuid","underline","_v","_s","size","icon","disabled","plain","on","click","_e","staticRenderFns","NavBarPC","components","UserMenu","__webpack_require__","normalizeComponent","ssrContext","links","text","url","to","$route","path","components_NavBarPC","id","src","onclick","_l","link","index","isAuthenticated","direction","avatar","NavBarPC_Component","NavBarPC_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/1.bc647355e31ce03590b8.js","sourcesContent":["<!--===========================================================================\n  = Copyright (C) 2022 Sakuyark, Inc. All Rights Reserved                     =\n  =                                                                           =\n  =   @Time : 2022-6-26 13:33                                                 =\n  =   @Author : hanjin                                                        =\n  =   @Email : 2819469337@qq.com                                              =\n  =   @File : UserMenuPC.vue                                                  =\n  =   @Program: website4                                                      =\n  ===========================================================================-->\n\n<template>\n  <el-card v-if=\"$store.state.isAuthenticated\" :body-style=\"{padding: '5px 20px 20px'}\" class=\"user-menu\"\n           shadow=\"hover\"\n  >\n    <el-row class=\"name-box\">\n      <el-col :span=\"24\">\n        <el-link :href=\"'/user/'+$store.state.me.uuid\" :underline=\"false\" class=\"name\">\n          {{ $store.state.me.name }}\n        </el-link>\n      </el-col>\n    </el-row>\n    <el-row class=\"options\">\n      <el-link class=\"options-button\" :underline=\"false\" size=\"small\" icon=\"el-icon-setting\" href=\"/settings\">\n        个人设置\n      </el-link>\n    </el-row>\n    <el-row class=\"footer\">\n      <el-col :span=\"12\">\n        <el-button disabled icon=\"el-icon-lock\" plain size=\"mini\" type=\"primary\">锁定</el-button>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-button icon=\"el-icon-switch-button\" plain size=\"mini\" type=\"danger\" @click=\"logout\">登出</el-button>\n      </el-col>\n    </el-row>\n  </el-card>\n</template>\n\n<script>\nexport default {\n  name: 'UserMenu',\n  methods: {\n    logout () {\n      this.$axios.post('/api/v1/token/logout/')\n        .then(response => {\n          this.$store.commit('removeToken')\n          localStorage.removeItem('token')\n          this.$axios.defaults.headers.common.Authorization = ''\n        })\n        .catch(err => {\n          try {\n            const data = err.response.data\n            let errors = '<p>登出失败</p>'\n            for (const key in data) {\n              errors += '<p>' + data[key] + '</p>'\n            }\n            this.$message({\n              // title: '获取用户数据错误',\n              dangerouslyUseHTMLString: true,\n              message: errors,\n              type: 'error'\n            })\n          } catch (e) {\n            this.$message({\n              dangerouslyUseHTMLString: true,\n              message: '<p>登出失败</p><p>' + err + '</p>',\n              type: 'error'\n            })\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-menu {\n  /*display: none;*/\n  opacity: 0;\n  position: absolute;\n  width: 300px;\n  min-height: 100px;\n  top: 80px;\n  right: -115px;\n  overflow: hidden;\n  z-index: -1;\n  text-align: center;\n  color: #6c757d;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  transition: all .2s;\n}\n\n.options {\n  /*border-bottom: rgba(216, 216, 216, 32) solid 1px;*/\n  height: 34px;\n  line-height: 24px;\n}\n\n.options-button {\n  /*width: 100%;*/\n  /*height: 100%;*/\n  height: 34px;\n  border: 0;\n  border-radius: 5px;\n  text-align: left;\n  transition: 0.8s;\n  display: block;\n  font-size: 14px;\n  padding: 5px 10px;\n}\n\n.options-button:hover {\n  background-color: #E3E5E7;\n}\n\n.options-button:after {\n  content: '>';\n  float: right;\n}\n\n.name {\n  font-weight: 400;\n  font-size: 24px;\n}\n\n.name-box {\n  line-height: 30px;\n  height: 30px;\n  margin-bottom: 15px;\n}\n\n.footer {\n  margin-top: 30px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserMenuPC.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.isAuthenticated)?_c('el-card',{staticClass:\"user-menu\",attrs:{\"body-style\":{padding: '5px 20px 20px'},\"shadow\":\"hover\"}},[_c('el-row',{staticClass:\"name-box\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-link',{staticClass:\"name\",attrs:{\"href\":'/user/'+_vm.$store.state.me.uuid,\"underline\":false}},[_vm._v(\"\\n        \"+_vm._s(_vm.$store.state.me.name)+\"\\n      \")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"options\"},[_c('el-link',{staticClass:\"options-button\",attrs:{\"underline\":false,\"size\":\"small\",\"icon\":\"el-icon-setting\",\"href\":\"/settings\"}},[_vm._v(\"\\n      个人设置\\n    \")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"footer\"},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"disabled\":\"\",\"icon\":\"el-icon-lock\",\"plain\":\"\",\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"锁定\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"icon\":\"el-icon-switch-button\",\"plain\":\"\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.logout}},[_vm._v(\"登出\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ca4e955e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserMenuPC.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca4e955e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserMenuPC.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserMenuPC.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserMenuPC.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca4e955e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserMenuPC.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ca4e955e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserMenuPC.vue\n// module id = null\n// module chunks = ","<!--===========================================================================\n  = Copyright (C) 2022 Sakuyark, Inc. All Rights Reserved                     =\n  =                                                                           =\n  =   @Time : 2022-6-26 13:33                                                 =\n  =   @Author : hanjin                                                        =\n  =   @Email : 2819469337@qq.com                                              =\n  =   @File : NavBarPC.vue                                                    =\n  =   @Program: website4                                                      =\n  ===========================================================================-->\n\n<template>\n  <div class=\"nav\">\n    <img id=\"icon\" :src=\"icon\" onclick=\"window.location.href='/';\"/>\n    <div class=\"bar\">\n      <div v-for=\"(link, index) in links\" :key=\"index\">\n        <router-link :to=\"link.url\">{{ link.text }}</router-link>\n        <!-- <a :href=\"link.url\">{{ link.text }}</a> -->\n      </div>\n    </div>\n    <div class=\"user\">\n      <div v-if=\"!$store.state.isAuthenticated\" class=\"ops\">\n        <div>\n          <router-link :to=\"url('/signup')\">注册</router-link>\n          <!-- <a href=\"/signup\">注册</a> -->\n          <el-divider direction=\"vertical\"></el-divider>\n          <router-link :to=\"url('/login')\">登录</router-link>\n          <!-- <a href=\"/login\">登录</a> -->\n        </div>\n      </div>\n      <el-avatar v-if=\"$store.state.isAuthenticated\" :size=\"64\" :src=\"$store.state.me.avatar\"\n                 class=\"avatar\"></el-avatar>\n      <user-menu/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserMenu from '@/components/UserMenuPC'\n\nexport default {\n  name: 'NavBar',\n  components: {UserMenu},\n  data () {\n    return {\n      icon: '/static/icon.jpg',\n      links: [\n        {text: '首页', url: '/'},\n        {text: '关于', url: '/about'}\n      ]\n    }\n  },\n  methods: {\n    url (to) {\n      return to + (to !== this.$route.path ? ('?redirect=' + this.$route.path) : '')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.nav {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 80px;\n  width: 100%;\n  background-color: #e5e7e3;\n  box-shadow: 2px 2px 2px 2px #d5d7d3;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.nav #icon {\n  width: 72px;\n  height: 72px;\n  cursor: pointer;\n  border-radius: 50%;\n  top: 0;\n  bottom: 0;\n  margin: auto 10px;\n  left: 15px;\n  position: relative;\n}\n\n.nav .bar {\n  margin: auto 0;\n  bottom: 0;\n  top: 0;\n  position: relative;\n  min-width: 100px;\n  /* width: 600px; */\n  height: 45px;\n  line-height: 45px;\n  cursor: default;\n  text-align: left;\n}\n\n.nav .bar div {\n  /*text-align: center;*/\n  position: relative;\n  font-size: 20px;\n  display: inline-block;\n  margin: 2.5px 20px;\n  height: 40px;\n  width: 80px;\n  cursor: default;\n}\n\n.nav .bar div:before {\n  content: '';\n  position: absolute;\n  display: block;\n  width: 0;\n  margin: 0 auto;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 2.5px solid red;\n  transition: width 0.3s ease-in;\n}\n\n.nav .bar div:hover:before {\n  width: 80px;\n}\n\n.nav .bar div a {\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: inline-block;\n  position: relative;\n}\n\n.avatar:hover + .user-menu, .user-menu:hover {\n  display: block;\n  opacity: 1;\n  z-index: 999;\n}\n\n.user {\n  margin: auto 0;\n  bottom: 0;\n  top: 0;\n  position: relative;\n  right: 125px;\n  height: 70px;\n  text-align: center;\n  line-height: 45px;\n  cursor: default;\n  display: flex;\n  align-items: center;\n}\n\n.user .ops {\n  position: relative;\n  width: 100px;\n  display: inline-block;\n}\n\n.user .ops a {\n  cursor: pointer;\n  font-size: 16px;\n  display: inline-block;\n}\n\n.user .avatar {\n  /*margin-right: 150px;*/\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NavBarPC.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav\"},[_c('img',{attrs:{\"id\":\"icon\",\"src\":_vm.icon,\"onclick\":\"window.location.href='/';\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bar\"},_vm._l((_vm.links),function(link,index){return _c('div',{key:index},[_c('router-link',{attrs:{\"to\":link.url}},[_vm._v(_vm._s(link.text))])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[(!_vm.$store.state.isAuthenticated)?_c('div',{staticClass:\"ops\"},[_c('div',[_c('router-link',{attrs:{\"to\":_vm.url('/signup')}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.url('/login')}},[_vm._v(\"登录\")])],1)]):_vm._e(),_vm._v(\" \"),(_vm.$store.state.isAuthenticated)?_c('el-avatar',{staticClass:\"avatar\",attrs:{\"size\":64,\"src\":_vm.$store.state.me.avatar}}):_vm._e(),_vm._v(\" \"),_c('user-menu')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2688a26f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NavBarPC.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2688a26f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NavBarPC.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavBarPC.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavBarPC.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2688a26f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NavBarPC.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2688a26f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavBarPC.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}